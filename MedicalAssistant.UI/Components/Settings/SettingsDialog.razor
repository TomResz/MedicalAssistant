@using MedicalAssistant.UI.Components.AppBar

<MudDialog TitleClass="text-center">
	<DialogContent>
		<MudGrid>

			<MudItem xs="12">
				<MudPaper Class="pa-4" Elevation="3">
					<LanguageSwitchBtn Class="@LanguageSwitchClass" OnLanguageChanged="@LanguageChanged" />
				</MudPaper>
			</MudItem>
			<MudItem xs="12">
				<MudPaper Class="pa-4" Elevation="3">
					<LanguageSwitchBtn Class="@LanguageSwitchClass" OnLanguageChanged="@NotificationLanguageChanged"
									   LoadLanguageFromStorage="false" InitiaLanguage="@NotificationLanguage" />
				</MudPaper>
			</MudItem>
			<MudItem xs="12">
				<MudPaper Class="pa-4" Elevation="3">

				</MudPaper>
			</MudItem>

			<MudItem xs="12">
				<MudPaper Class="pa-4 mb-2" Elevation="3">
					<MudSwitch @bind-Value="@_viewModel.NotificationsEnabled" Label="Powiadomienia" />
					<MudSwitch @bind-Value="@_viewModel.VisitNotificationEnabled" Label="Powiadomienia o wizytach" />
					<MudSwitch @bind-Value="@_viewModel.EmailNotificationEnabled" Label="Powiadomienia e-mail"/>
				</MudPaper>
			</MudItem>

		</MudGrid>
	</DialogContent>
	<DialogActions>
		<MudGrid Class="px-3">
			<MudItem xs="12" sm="6">
				<MudButton OnClick="@(async () => await SaveChanges())" Disabled="@_loading" 
					Color="Color.Primary" Variant="MudBlazor.Variant.Filled" FullWidth="true">
					@Translations.SaveSettings
				</MudButton>
			</MudItem>
			<MudItem xs="12" sm="6">
				<MudButton OnClick="@Cancel" Color="Color.Secondary" Variant="MudBlazor.Variant.Filled" FullWidth="true">
					@Translations.Cancel
				</MudButton>
			</MudItem>
		</MudGrid>
	</DialogActions>
</MudDialog>