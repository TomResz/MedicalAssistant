@using MedicalAssist.UI.Models.Visits


<MudDialog>
	<DialogContent>
		<MudForm @ref="form" Model="@visitForm">
			<MudGrid>
				<MudItem xs="12" sm="6">
					<MudTextField Label="@Translations.DoctorName" @bind-Value="visitForm.DoctorName" Required="true" />
				</MudItem>
				<MudItem xs="12" sm="6">
					<MudTextField Label="@Translations.VisitType" @bind-Value="visitForm.VisitType" Required="true" />
				</MudItem>
				<MudItem xs="12">
					<MudTextField Label="@Translations.Description" @bind-Value="visitForm.VisitDescription" AutoGrow MaxLines="3" Required="true" />
					</MudItem>
					<MudItem xs="12">
						<MudTextField Label="@Translations.Street" @bind-Value="visitForm.Street" Required="true" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Label="@Translations.PostalCode" @bind-Value="visitForm.PostalCode" Mask="@postalCodeMask" Clearable Required="true" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Label="@Translations.City" @bind-Value="visitForm.City" Required="true" />
					</MudItem>
					<MudItem xs="12" sm="4">
						<MudDatePicker PickerVariant="PickerVariant.Dialog" Label="@Translations.Date" Editable="true" @bind-Date="visitForm.Date"
									   Mask="@(new DateMask("dd/MM/yyyy"))" DateFormat="dd/MM/yyyy" Placeholder="dd/MM/yyyy"
									   Required="true" />
					</MudItem>
					<MudItem xs="12" sm="4">
						<MudTimePicker PickerVariant="PickerVariant.Dialog" Label="@Translations.Time" @bind-Time="visitForm.Time" />
					</MudItem>
					<MudItem xs="12" sm="4">
						<MudTextField T="TimeSpan?" Label="@Translations.VisitPredictedTime" InputType="InputType.Time" @bind-Value="visitForm.PredictedEndDate" />
					</MudItem>
				</MudGrid>
			</MudForm>
		</DialogContent>
		<DialogActions>
			<MudButton OnClick="@( async () =>  await SubmitForm())" Color="Color.Primary">@Translations.AddVisitBtn</MudButton>
			<MudButton OnClick="Cancel">@Translations.Cancel</MudButton>
		</DialogActions>
	</MudDialog>
